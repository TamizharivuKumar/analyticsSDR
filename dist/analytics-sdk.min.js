!function(e,t){function n(e){this.baseURL=e||"https://c639-2401-4900-1ce2-a051-616b-b07d-7cf4-d15f.ngrok-free.app",this.sessionId="xxxx-xxxx-4xxx-yxxx-xxxxxx".replace(/[xy]/g,(e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})),this.scrollDepth=0,this.startTime=Date.now(),this.init()}function r(){return/Mobile|Android|iPhone|iPad/i.test(navigator.userAgent)?"Mobile":"Desktop"}function i(){const e=navigator.platform.toLowerCase();return e.includes("win")?"Windows":e.includes("mac")?"macOS":e.includes("linux")?"Linux":"Unknown"}function o(){return{browserName:navigator.userAgent,browserVersion:(navigator.userAgent.match(/(firefox|chrome|safari|msie|trident(?=\/))\/?\s*(\d+)/i)||[])[2]||"Unknown",osName:i(),screenResolution:`${e.screen.width}x${e.screen.height}`,language:navigator.language}}n.prototype.sendEvent=function(e){return fetch(this.baseURL+"/api/Event",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})},n.prototype.init=function(){var n,i=this,s=(n=i.sessionId,{eventName:"page_view",timestamp:(new Date).toISOString(),properties:{pageUrl:e.location.href,pageTitle:t.title,referrerUrl:t.referrer||"Direct",sessionId:n,deviceType:r(),BrowserInfo:o()}});i.sendEvent(s).then((e=>{console.log("Page view event sent successfully:",e)})).catch((e=>{console.error("Failed to send page view event:",e)})),e.addEventListener("scroll",(function(){i.calculateScrollDepth()})),e.addEventListener("beforeunload",(function(){i.trackPageExit()}))},n.prototype.calculateScrollDepth=function(){var n=e.scrollY/(t.body.scrollHeight-e.innerHeight)*100;this.scrollDepth=Math.max(this.scrollDepth,Math.floor(n))},n.prototype.trackPageExit=function(){var n=Math.floor((Date.now()-this.startTime)/1e3),i=function(n,i,s){return{eventName:"page_exit",timestamp:(new Date).toISOString(),properties:{pageUrl:e.location.href,pageTitle:t.title,referrerUrl:t.referrer||"Direct",sessionId:n,timeOnPage:i,scrollDepth:s,deviceType:r(),BrowserInfo:o()}}}(this.sessionId,n,this.scrollDepth);this.sendEvent(i)},new n}(window,document);